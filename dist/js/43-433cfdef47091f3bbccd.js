(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{159:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order_list_b"},[i("div",{staticClass:"order_list-nav"},[i("div",{staticClass:"list-nav-b flex-h flex-j-c",on:{click:t.nav_open}},[t.state?1==t.state?i("p",[t._v("待付款")]):2==t.state?i("p",[t._v("待发货")]):3==t.state&&0==t.type?i("p",[t._v("待收货")]):4==t.state?i("p",[t._v("待评价")]):t._e():i("p",[t._v("全 部")]),t._v(" "),i("p",{staticClass:"t-c flex-v flex-j-c l_t"},[t.nav_show?i("span",{staticClass:"span_up"}):i("span",{staticClass:"span_down"})]),t._v(" "),t.nav_show?i("div",{staticClass:"nav_list_c2"},[i("p",{on:{click:function(e){t.handle_state(0)}}},[t._v("全部")]),t._v(" "),i("p",{on:{click:function(e){t.handle_state(1)}}},[t._v("待付款")]),t._v(" "),i("p",{on:{click:function(e){t.handle_state(2)}}},[t._v("待发货")]),t._v(" "),i("p",{on:{click:function(e){t.handle_state(3)}}},[t._v("待收货")]),t._v(" "),i("p",{on:{click:function(e){t.handle_state(4)}}},[t._v("待评价")])]):t._e()]),t._v(" "),i("div",{staticClass:"list-order-lib"},[t.items.length>0?i("div",{ref:"wrapper",staticClass:"page-infinite-wrapper",style:{height:t.wrapperHeight+"px"}},[i("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"page-infinite-list",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"50"}},t._l(t.items,function(e){return i("div",{key:e.id,staticClass:"order-lib_b",class:7==e.state||8==e.state||9==e.state?"tuihuo-icon":""},[1==e.state?i("div",{staticClass:"flex-1 top_1"},[t._v("待付款")]):2==e.state&&0==e.type?i("div",{staticClass:"flex-1 top_1"},[t._v("待发货")]):2==e.state&&1==e.type?i("div",{staticClass:"flex-1 top_1"},[t._v("待确认")]):3==e.state&&0==e.type?i("div",{staticClass:"flex-1 top_1"},[t._v("待收货")]):3==e.state&&1==e.type?i("div",{staticClass:"flex-1 top_1"},[t._v("变更中")]):4==e.state&&1==e.type?i("div",{staticClass:"flex-1 top_1"},[t._v("取消出售")]):4==e.state&&0==e.type?i("div",{staticClass:"flex-1 top_1"},[t._v("待评价 ")]):5==e.state&&0==e.type?i("div",{staticClass:"flex-1 top_1"},[t._v("已完成")]):5==e.state&&1==e.type?i("div",{staticClass:"flex-1 top_1"},[t._v("查看版权信息")]):6==e.state?i("div",{staticClass:"flex-1 top_1"},[t._v("已取消")]):7==e.state?i("div",{staticClass:"flex-1 top_1"},[t._v("待处理")]):8==e.state?i("div",{staticClass:"flex-1 top_1"},[t._v("待退货 ")]):9==e.state||13==e.state?i("div",{staticClass:"flex-1 top_1"},[t._v("已拒绝")]):10==e.state?i("div",{staticClass:"flex-1 top_1"},[t._v("待退款")]):11==e.state?i("div",{staticClass:"flex-1 top_1"},[t._v("退款成功")]):12==e.state?i("div",{staticClass:"flex-1 top_1"},[t._v("重新申请")]):t._e(),t._v(" "),i("p",{staticClass:"line_1"}),t._v(" "),i("p",{staticClass:"c2 font-1"},[t._v(t._s(e.shop_name?e.shop_name:"商店名称"))]),t._v(" "),i("div",{staticClass:"order-lib_b_1 flex-h",on:{click:function(i){t.go_details(e)}}},[i("div",[i("img",{attrs:{src:e.imgUrl,alt:""}})]),t._v(" "),i("div",{staticClass:"c3 flex-v flex-j-c flex-1"},[i("p",{staticClass:"font-2 ellipsis"},[t._v(t._s(e.goodsName))]),t._v(" "),1==e.type?i("p",{staticClass:"font-1 c12"},[t._v("¥"+t._s(e.money))]):i("p",{staticClass:"font-1"},[t._v("商品价格¥"+t._s(e.money))])])]),t._v(" "),i("p",{staticClass:"line_2"}),t._v(" "),1==e.state?i("div",{staticClass:"lib-btn-1",on:{click:function(i){t.go_pay(e)}}},[t._v("付款")]):3==e.state&&0==e.type?i("div",{staticClass:"lib-btn-1",on:{click:function(i){t.sure_get_goods(e)}}},[t._v("确认收货")]):4==e.state&&0==e.type?i("div",{staticClass:"lib-btn-1",on:{click:function(i){t.go_evaluate(e)}}},[t._v("评价")]):7==e.state?i("div",{staticClass:"lib-btn-1",on:{click:function(i){t.cancel_refund(e)}}},[t._v("取消退款")]):8==e.state?i("div",{staticClass:"lib-btn-1",on:{click:function(i){t.send_goods_event(e)}}},[t._v("填写物流单号")]):9==e.state?i("div",{staticClass:"lib-btn-1",on:{click:function(i){t.apply_again(e)}}},[t._v("重新申请")]):t._e()])})),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.loading&&!t.null_data,expression:"loading&&!null_data"}],staticClass:"page-infinite-loading font-1 c1"},[i("mt-spinner",{attrs:{type:"fading-circle"}}),t._v("\n                    加载中...\n                ")],1),t._v(" "),t.null_data&&t.page>1?i("p",{staticClass:"page-infinite-loading font-1 c1"},[t._v("\n                    兄弟，真的没有了...\n                ")]):t._e()]):i("noData"),t._v(" "),i("div",{staticClass:"h8"})],1)]),t._v(" "),t.send_goods_show?i("div",{staticClass:"dialog_layer"},[i("div",{staticClass:"layer_cont_1"},[i("div",{staticClass:"flex-v flex-j-c",staticStyle:{padding:"2rem 0 4rem 0"}},[i("div",{staticClass:"layer_title"},[t._v("· 退货信息 ·")]),t._v(" "),i("div",{staticClass:"c3 flex-h flex-j-c"},[i("p",{staticClass:"line-h-2"},[t._v("物流单号:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.express_num,expression:"express_num",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"输入物流单号"},domProps:{value:t.express_num},on:{input:function(e){e.target.composing||(t.express_num=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),i("div",{staticClass:"c3 flex-h flex-j-c m-t-2"},[i("p",{staticClass:"line-h-2"},[t._v("物流公司:")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.express_name,expression:"express_name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"输入物流公司名称"},domProps:{value:t.express_name},on:{input:function(e){e.target.composing||(t.express_name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),i("div",{staticClass:"layer_cont_btn"},[i("div",{staticClass:"layer_cont_confirm flex-h flex-j-c"},[i("p",{on:{click:t.send_goods_cancel}},[t._v("取消")]),t._v(" "),i("p",{on:{click:t.send_goods_sure}},[t._v("确定")])])])])]):t._e(),t._v(" "),i("router-view",{staticClass:"order-search"})],1)},a=[]},336:function(t,e,i){var r=i(4);(t.exports=i(2)(!1)).push([t.i,".order_list_b{width:100%;height:auto;margin-top:.533333rem}.order_list_b .order_list-nav{color:#4a8ada;font-size:.933333rem}.order_list_b .order_list-nav .list-nav-b{position:relative}.order_list_b .order_list-nav .list-nav-b .l_t{margin-left:.866667rem}.order_list_b .order_list-nav .list-nav-b .span_down{border-top:.31875rem solid #4a8ada}.order_list_b .order_list-nav .list-nav-b .span_down,.order_list_b .order_list-nav .list-nav-b .span_up{width:0;height:0;border-left:.31875rem solid transparent;border-right:.31875rem solid transparent;margin-left:.1rem}.order_list_b .order_list-nav .list-nav-b .span_up{border-bottom:.31875rem solid #4a8ada}.order_list_b .order_list-nav .list-nav-b .nav_list_c{background:url("+r(i(45))+") no-repeat;background-size:100% 100%;background-position:50%;height:15.066667rem}.order_list_b .order_list-nav .list-nav-b .nav_list_c,.order_list_b .order_list-nav .list-nav-b .nav_list_c2{position:absolute;top:1.733333rem;left:13rem;width:6.466667rem;text-align:center;line-height:2.3rem;padding:.7rem 0;font-size:.933333rem;color:#fff;z-index:100}.order_list_b .order_list-nav .list-nav-b .nav_list_c2{background:url("+r(i(44))+") no-repeat;background-size:100% 100%;background-position:50%;height:13.5rem}.order_list_b .order_list-nav .tuihuo-icon{background:#282828 url("+r(i(43))+") no-repeat!important;background-size:4.466667rem!important;background-position:-1% 9.266667rem!important}.order_list_b .order_list-nav .list-order-lib-search{top:5.5rem}.order_list_b .order_list-nav .list-order-lib{padding:0 .866667rem;overflow:auto;width:100%;position:fixed;top:7rem;bottom:0;right:0}.order_list_b .order_list-nav .list-order-lib .order-lib_b{position:relative;background:#282828;width:100%;height:11.625rem;padding:.733333rem .8rem .933333rem .6rem;-webkit-clip-path:polygon(.666667rem 0,calc(100% - .666667rem) 0,100% .666667rem,100% calc(100% - .666667rem),calc(100% - .666667rem) 100%,.666667rem 100%,0 calc(100% - .666667rem),0 .666667rem)}.order_list_b .order_list-nav .list-order-lib .order-lib_b:nth-child(n+2){margin-top:1.066667rem}.order_list_b .order_list-nav .list-order-lib .order-lib_b .order-lib_b_1{padding:.6rem 0}.order_list_b .order_list-nav .list-order-lib .order-lib_b .order-lib_b_1>div:first-child{width:4.533333rem;height:4.533333rem}.order_list_b .order_list-nav .list-order-lib .order-lib_b .order-lib_b_1>div:first-child img{width:100%;height:100%;display:block}.order_list_b .order_list-nav .list-order-lib .order-lib_b .order-lib_b_1>div:nth-child(2){padding:0 1.133333rem;max-width:12rem}.order_list_b .order_list-nav .list-order-lib .order-lib_b .order-lib_b_1>div:nth-child(2)>p:first-child{height:2.066667rem}.order_list_b .order_list-nav .list-order-lib .order-lib_b .order-lib_b_1>div:nth-child(3){padding-top:1.066667rem;text-align:right;color:#fff}.order_list_b .order_list-nav .list-order-lib .order-lib_b .top_1{margin-top:-.375rem}.order_list_b .order_list-nav .list-order-lib .order-lib_b .lib-btn-no{right:7.066667rem}.order_list_b .order_list-nav .list-order-lib .order-lib_b .lib-btn-1,.order_list_b .order_list-nav .list-order-lib .order-lib_b .lib-btn-no{position:absolute;bottom:.5625rem;min-width:5.6rem;height:1.666667rem;background:#4a8ada;color:#fff;padding:0 .666667rem;border-radius:.533333rem;line-height:1.666667rem;text-align:center;font-size:.933333rem}.order_list_b .order_list-nav .list-order-lib .order-lib_b .lib-btn-1{right:.8rem}.order-search{background:rgba(0,0,0,.9);width:100%;position:fixed;left:0;bottom:0;top:0;right:0;overflow:auto;z-index:101;padding-top:4.266rem}.order-search .search-top{height:1.333333rem;background:#1a1a1a}.order-search .search_box{width:100%;height:2.933333rem;background:#1a1a1a}.order-search .search_box .search_box_1{width:100%;height:1.8rem;padding-left:1.066667rem}.order-search .search_box .search_box_1 input{width:18.866667rem;background:#282828 url("+r(i(17))+") no-repeat;background-size:1.4rem;background-position:.266667rem;display:block;height:1.8rem;line-height:1.8rem;padding-left:3rem;border-radius:1.4rem}.order-search .search_box .search_box_1 p{line-height:1.8rem}.content_back{width:100%;height:4.266rem;background:#232323;position:relative;border-bottom:#232323;position:fixed;top:0;left:0;right:0;z-index:100}.content_back .iponeXh{height:1.333333rem}.content_back .header_if{background:#232323;width:100%;position:absolute;z-index:100;text-align:center;top:1.25rem}.content_back .header_if ._back{width:4rem;height:2.933333rem;background:url("+r(i(19))+") no-repeat;background-size:1.466667rem;background-position:1.333333rem;position:absolute;left:0;top:0}.content_back .header_if ._title{height:2.933333rem;line-height:2.933333rem;font-size:1.2rem;color:#fff}.line_1{margin-top:.32rem}.line_1,.line_2{width:100%;height:.066667rem;background:hsla(0,0%,85%,.19);transform:scaleY(.5)}.line_2{margin-bottom:2.5625rem}",""])},337:function(t,e,i){var r=i(336);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,i(1).default)("29f29324",r,!0,{})},430:function(t,e,i){"use strict";i.r(e);var r=i(81),a=i.n(r);for(var s in r)"default"!==s&&function(t){i.d(e,t,function(){return r[t]})}(s);var o=i(159),n=i(0);var l=function(t){i(337)},d=Object(n.a)(a.a,o.a,o.b,!1,l,null,null);e.default=d.exports},81:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _infiniteScroll=__webpack_require__(24),_infiniteScroll2=_interopRequireDefault(_infiniteScroll);__webpack_require__(23);var _ui=__webpack_require__(18),_vue=__webpack_require__(6),_vue2=_interopRequireDefault(_vue),_noData=__webpack_require__(15),_noData2=_interopRequireDefault(_noData);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}_vue2.default.use(_infiniteScroll2.default),exports.default={data:function(){return{items:[],nav_show:!1,send_goods_show:!1,page:1,pageSize:10,express_id:null,express_num:null,express_name:null,state:"",loading:!1,wrapperHeight:0,null_data:!1}},created:function(){location.href.indexOf("localhost")>-1?this.initData():this.userGetinfo(),this.$route.query.show_send_goods&&(this.send_goods_show=!0)},components:{noData:_noData2.default},mounted:function(){},methods:{userGetinfo:function userGetinfo(){var _this=this;setTimeout(function(){try{var objdata=iosObject.getUserInfo(),jsondata=eval("("+objdata+")");window.jsondata=jsondata,window.jsondata.token?_this.initData():_this.userGetinfo()}catch(t){_this.userGetinfo()}},300)},initData:function(t){var e=this,i={showCount:e.pageSize,currentPage:"update"==t?1:e.page,userType:1,state:e.state};if("update"==t&&(e.page=1,e.loading=!0,e.null_data=!1),e.null_data&"update"!=t)return!1;this.util.ajax.post("/mall/orders/getOrderData.do",i).then(function(t){if(1==e.page?(e.items=[],e.items=t.data.list):e.items=e.items.concat(t.data.list),setTimeout(function(){e.loading=!1},200),t.data.list.length<10)return e.null_data=!0,!1}).catch()},loadMore:function(){this.loading=!0,this.page++,this.initData()},handle_state:function(t){this.null_data=!1,this.page=1,this.state=0==t?"":t,this.initData()},nav_open:function(){this.nav_show=!this.nav_show},go_details:function(t){this.$router.push({name:"order_details_buyer",query:{id:t.id,goodsId:t.goodsId}})},go_pay:function(t){this.$router.push({name:"order_pay",query:{orderId:t.id,money:t.money}})},cancel_refund:function(t){var e=this;(0,_ui._confrim)({content:"确定要取消退款吗？",yes:function(){e.util.ajax.get("/mall/orders/cancelReturn.do",{params:{id:t.id}}).then(function(t){200==t.code?e.initData("update"):e._alert({content:t.message})}).catch()},no:function(){}})},go_evaluate:function(t){this.$router.push({name:"order_evaluate",query:{orderId:t.id,goodsId:t.goodsId}})},sure_get_goods:function(t){var e=this;(0,_ui._confrim)({content:"请确定收到货后，确认收货。",yes:function(){e.util.ajax.get("/mall/orders/confirmReceipt.do",{params:{id:t.id}}).then(function(t){200==t.code?e.initData("update"):e._alert({content:t.message})}).catch()},no:function(){}})},apply_again:function(t){var e=this;this.util.ajax.get("/mall/orders/againReturn.do",{params:{id:t.id}}).then(function(t){200==t.code&&e.initData("update")}).catch()},send_goods_event:function(t){this.express_id=t.id,this.send_goods_show=!0},send_goods_cancel:function(){this.send_goods_show=!1},send_goods_sure:function(){var t=this;return t.express_name?t.express_num?void this.util.ajax.get("/mall/orders/sendReturn.do",{params:{id:t.express_id,express:t.express_name,express_num:t.express_num}}).then(function(e){200==e.code?(t.send_goods_cancel(),t.initData("update")):t._alert({content:e.message})}).catch():(t._alert({content:"请输入物流单号"}),!1):(t._alert({content:"请输入物流公司"}),!1)}}}}}]);